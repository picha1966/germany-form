<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anmeldung - –ê–Ω–∫–µ—Ç–∞</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { font-family: -apple-system, sans-serif; padding: 15px; background: var(--tg-theme-bg-color, #fff); color: var(--tg-theme-text-color, #000); }
        .section { margin-bottom: 20px; padding: 10px; border-radius: 10px; background: var(--tg-theme-secondary-bg-color, #f5f5f5); }
        h4 { margin: 0 0 10px 0; color: #0088cc; }
        .form-group { margin-bottom: 12px; }
        label { display: block; font-size: 13px; margin-bottom: 4px; color: var(--tg-theme-hint-color, #888); }
        input, select { width: 100%; padding: 10px; border-radius: 8px; border: 1px solid #ccc; box-sizing: border-box; font-size: 15px; }
        button { width: 100%; padding: 15px; background: #2cab37; color: white; border: none; border-radius: 12px; font-weight: bold; font-size: 16px; margin-top: 10px; }
    </style>
</head>
<body>
    <h3>üìù –ê–Ω–∫–µ—Ç–∞ –¥–ª—è Anmeldung</h3>
    
    <div class="section">
        <h4>–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ</h4>
        <div class="form-group"><label>–Ü–º'—è</label><input type="text" id="first_name" placeholder="Vitalii"></div>
        <div class="form-group"><label>–ü—Ä—ñ–∑–≤–∏—â–µ</label><input type="text" id="last_name" placeholder="Pichkur"></div>
        <div class="form-group"><label>–î–∞—Ç–∞ –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è</label><input type="text" id="birth_date" placeholder="DD.MM.YYYY"></div>
        <div class="form-group"><label>–ú—ñ—Å—Ü–µ –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è</label><input type="text" id="birth_place" placeholder="Kyiv"></div>
        <div class="form-group"><label>–ì—Ä–æ–º–∞–¥—è–Ω—Å—Ç–≤–æ</label><input type="text" id="nationality" placeholder="Ukrainian"></div>
    </div>

    <div class="section">
        <h4>–ù–æ–≤–∞ –∞–¥—Ä–µ—Å–∞</h4>
        <div class="form-group"><label>–í—É–ª–∏—Ü—è</label><input type="text" id="street" placeholder="Marienplatz"></div>
        <div class="form-group"><label>–ù–æ–º–µ—Ä –±—É–¥–∏–Ω–∫—É</label><input type="text" id="house_number" placeholder="1"></div>
        <div class="form-group"><label>–ü–æ—à—Ç–æ–≤–∏–π —ñ–Ω–¥–µ–∫—Å</label><input type="text" id="postal_code" placeholder="80331"></div>
        <div class="form-group"><label>–ú—ñ—Å—Ç–æ</label><input type="text" id="city" placeholder="M√ºnchen"></div>
        <div class="form-group"><label>–î–∞—Ç–∞ –∑–∞—ó–∑–¥—É</label><input type="text" id="move_in_date" placeholder="DD.MM.YYYY"></div>
    </div>

    <div class="section">
        <h4>–î–æ–¥–∞—Ç–∫–æ–≤–æ</h4>
        <div class="form-group"><label>–†–µ–ª—ñ–≥—ñ—è</label><input type="text" id="religion" placeholder="none / evangelisch / katholisch"></div>
        <div class="form-group"><label>–°—ñ–º–µ–π–Ω–∏–π —Å—Ç–∞–Ω</label><input type="text" id="marital_status" placeholder="ledig / verheiratet"></div>
        <div class="form-group"><label>–ü—Ä—ñ–∑–≤–∏—â–µ –æ—Ä–µ–Ω–¥–æ–¥–∞–≤—Ü—è</label><input type="text" id="landlord_name" placeholder="Hans Schmidt"></div>
    </div>

    <button onclick="submitForm()">–°–ö–£–í–ê–¢–ò –î–û–ö–£–ú–ï–ù–¢ ‚úÖ</button>

    <script>
        let tg = window.Telegram.WebApp;
        tg.expand();

        function submitForm() {
            const userAnswers = {
                first_name: document.getElementById('first_name').value,
                last_name: document.getElementById('last_name').value,
                birth_date: document.getElementById('birth_date').value,
                birth_place: document.getElementById('birth_place').value,
                nationality: document.getElementById('nationality').value,
                street: document.getElementById('street').value,
                house_number: document.getElementById('house_number').value,
                postal_code: document.getElementById('postal_code').value,
                city: document.getElementById('city').value,
                move_in_date: document.getElementById('move_in_date').value,
                religion: document.getElementById('religion').value,
                marital_status: document.getElementById('marital_status').value,
                landlord_name: document.getElementById('landlord_name').value,
                signature_date: new Date().toLocaleDateString('de-DE'),
                signature_place: document.getElementById('city').value
            };

            const data = {
                doc_type: new URLSearchParams(window.location.search).get('doc_type') || 'anmeldung',
                user_answers: userAnswers
            };

            tg.sendData(JSON.stringify(data));
        }
    </script>
</body>
</html>





