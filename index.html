<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { font-family: sans-serif; padding: 20px; background: white; color: black; }
        input { width: 100%; margin-bottom: 10px; padding: 10px; border: 1px solid #ccc; border-radius: 5px; }
        .error { border: 2px solid red; background: #fff0f0; }
        button { width: 100%; padding: 15px; background: #28a745; color: white; border: none; border-radius: 5px; font-weight: bold; }
    </style>
</head>
<body>
    <h3>üìù –§–æ—Ä–º–∞ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó</h3>
    
    <input type="text" id="fname" placeholder="–Ü–º'—è (–æ–±–æ–≤'—è–∑–∫–æ–≤–æ)">
    <input type="text" id="lname" placeholder="–ü—Ä—ñ–∑–≤–∏—â–µ (–æ–±–æ–≤'—è–∑–∫–æ–≤–æ)">
    <input type="text" id="city" placeholder="–ú—ñ—Å—Ç–æ">

    <button id="send">–í–Ü–î–ü–†–ê–í–ò–¢–ò –í –ë–û–¢</button>

    <script>
        let tg = window.Telegram.WebApp;
        tg.expand();

        document.getElementById('send').addEventListener('click', function() {
            let f = document.getElementById('fname').value.trim();
            let l = document.getElementById('lname').value.trim();

            // –ü–ï–†–ï–í–Ü–†–ö–ê ‚Ññ1: –Ø–∫—â–æ –ø–æ—Ä–æ–∂–Ω—å–æ - –º–∏ –ø—Ä–æ—Å—Ç–æ –Ω—ñ—á–æ–≥–æ –Ω–µ —Ä–æ–±–∏–º–æ
            if (f === "" || l === "") {
                alert("–ü–æ–º–∏–ª–∫–∞: –ó–∞–ø–æ–≤–Ω—ñ—Ç—å —ñ–º'—è —Ç–∞ –ø—Ä—ñ–∑–≤–∏—â–µ!");
                return; // –¶–µ –ü–û–í–ò–ù–ù–û –∑—É–ø–∏–Ω–∏—Ç–∏ –∑–∞–∫—Ä–∏—Ç—Ç—è
            }

            let data = {
                user_answers: {
                    first_name: f,
                    last_name: l,
                    city: document.getElementById('city').value
                },
                doc_type: "anmeldung"
            };

            // –í–Ü–î–ü–†–ê–í–ö–ê
            tg.sendData(JSON.stringify(data));
            
            // –ü–ï–†–ï–í–Ü–†–ö–ê ‚Ññ2: –ó–∞—Ç—Ä–∏–º–∫–∞ –ø–µ—Ä–µ–¥ –∑–∞–∫—Ä–∏—Ç—Ç—è–º
            setTimeout(() => {
                tg.close();
            }, 500);
        });
    </script>
</body>
</html>






